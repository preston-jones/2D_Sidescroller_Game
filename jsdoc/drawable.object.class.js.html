<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: drawable.object.class.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: drawable.object.class.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** 
 * The DrawableObject class is a class that is used to create objects that can be drawn on the canvas.
 * 
 * @class DrawableObject
 */
class DrawableObject {
    img;
    imageCache = {};
    currentImage = 0;
    x;
    y;
    offset_left = 0;
    offset_top = 0;
    offset_right = 0;
    offset_bottom = 0;
    height;
    width;
    prevImageSrc;


    /**
     * Draws the object on the canvas.
     * @param {CanvasRenderingContext2D} ctx - The canvas 2d context.
     */
    draw(ctx) {
        if (!this.img) {
            this.img = new Image();
            if (this instanceof Character) { this.img.src = 'assets/sprites/character/player_female/shoot/shoot.png'; }
            if (this instanceof Cop) { this.img.src = 'assets/sprites/enemies/cop/idle/cop2.png'; }
            if (this instanceof Bootleg) { this.img.src = 'assets/sprites/enemies/Bootleg/bootleg-idle.png'; }
            if (this instanceof Drone) { this.img.src = 'assets/sprites/enemies/drone/drone-1.png'; }
            if (this instanceof BossEnemy) { this.img.src = 'assets/sprites/enemies/Wasp/wasp1.png'; }
            this.img.onload = () => {
                this.drawImageWithFilter(ctx);
            };
        }
        else {
            this.drawImageWithFilter(ctx);
        }
    }


    /**
     * Draws the object on the canvas with an invert filter.
     * @param {CanvasRenderingContext2D} ctx - The canvas 2d context.
     */
    drawImageWithFilter(ctx) {
        const previousFilter = ctx.filter;
        if (this.isInverted &amp;&amp; !this.is_Dead) {
            ctx.filter = 'invert(1)';
            ctx.drawImage(this.img, this.x, this.y, this.width, this.height);
            ctx.filter = previousFilter; // Restore the previous filter only if the object is inverted
        } else {
            ctx.drawImage(this.img, this.x, this.y, this.width, this.height);
        }
    }


    /**
     * Draws a yellow frame around the object on the canvas.
     * The frame is only drawn if the object is an instance of Shot, CollectibleEnergy, CollectibleHealth, Drone, Cop, Bootleg, BossEnemy or Character.
     * The frame visualizes the actual collision box of the object.
     * 
     * @param {CanvasRenderingContext2D} ctx - The canvas 2d context.
     */
    drawRealFrame(ctx) {
        if (this instanceof Shot || this instanceof CollectibleEnergy || this instanceof CollectibleHealth || this instanceof Drone || this instanceof Cop || this instanceof Bootleg || this instanceof BossEnemy || this instanceof Character) {
            ctx.lineWidth = '1';
            ctx.beginPath();
            ctx.strokeStyle = 'yellow';
            ctx.rect(this.x, this.y, this.width, this.height);
            ctx.stroke();
        }
    }


    /**
     * Draws a blue frame around the object on the canvas.
     * The frame is only drawn if the object is an instance of Shot, CollectibleEnergy, CollectibleHealth, Drone, Cop, Bootleg, BossEnemy or Character.
     * The frame visualizes the collision box of the object including the offsets.
     * 
     * @param {CanvasRenderingContext2D} ctx - The canvas 2d context.
     */
    drawFrame(ctx) {
        if (this instanceof Shot || this instanceof CollectibleEnergy || this instanceof CollectibleHealth) {
            ctx.lineWidth = '1';
            ctx.beginPath();
            ctx.strokeStyle = 'blue';
            ctx.rect(this.x + this.offset_left, this.y + this.offset_top, this.width + this.offset_right, this.height + this.offset_bottom);
            ctx.stroke();
        }
        if (this instanceof Drone || this instanceof Cop || this instanceof Bootleg || this instanceof BossEnemy || this instanceof Character) {
            ctx.lineWidth = '1';
            ctx.beginPath();
            ctx.strokeStyle = 'blue';
            ctx.rect(this.x + this.offset_left, this.y + this.offset_top, this.width + this.offset_right, this.height + this.offset_bottom);
            ctx.stroke();
        }
    }


    /**
     * Loads an image from a given path.
     * @param {string} path - The path to the image.
     */
    loadImage(path) {
        this.img = new Image();
        this.img.src = path;
    }


    /**
     * Loads images from an array of paths.
     * @param {string[]} arr - The array of paths to the images.
     */
    loadImages(arr) {
        arr.forEach(path => {
            let img = new Image();
            img.src = path;
            this.imageCache[path] = img;
        });
    }


    /**
     * Plays an looped animation of the object.
     * @param {string[]} arr - The array of paths to the images for the animation.
     */
    playAnimation(arr) {
        let i = this.currentImage % arr.length;// Modulu Function let i = 0 % 8; 0 geteilt durch 8 = 0, Rest 0
        let path = arr[i];
        this.img = this.imageCache[path];
        this.currentImage++;
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AnimatedBackground.html">AnimatedBackground</a></li><li><a href="BackgroundStatic.html">BackgroundStatic</a></li><li><a href="Bootleg.html">Bootleg</a></li><li><a href="BossEnemy.html">BossEnemy</a></li><li><a href="Character.html">Character</a></li><li><a href="CollectibleEnergy.html">CollectibleEnergy</a></li><li><a href="CollectibleHealth.html">CollectibleHealth</a></li><li><a href="Cop.html">Cop</a></li><li><a href="DrawableObject.html">DrawableObject</a></li><li><a href="Drone.html">Drone</a></li><li><a href="Fireworks.html">Fireworks</a></li><li><a href="Game_over.html">Game_over</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="Level.html">Level</a></li><li><a href="MovableObject.html">MovableObject</a></li><li><a href="Playground.html">Playground</a></li><li><a href="Shot.html">Shot</a></li><li><a href="SkylineBack.html">SkylineBack</a></li><li><a href="SkylineFront.html">SkylineFront</a></li><li><a href="Statusbar.html">Statusbar</a></li><li><a href="VehiclesFront.html">VehiclesFront</a></li><li><a href="Victory.html">Victory</a></li><li><a href="World.html">World</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Thu May 16 2024 14:41:29 GMT+0200 (Mitteleurop√§ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
